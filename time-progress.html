<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Year-Progress</title>

    <script>




        // From Geeks For Geeks. Check if year is a leap year 
        function checkYear(n) {

            // Check if n is divisible by 4
            if (n % 4 === 0) {

                // If it's divisible by 100, it should also be 
                // divisible by 400 to be a leap year
                if (n % 100 === 0) {
                    return n % 400 === 0;
                }
                return true;
            }
            return false;
        }


        function displayDots(daysElasped, year_length) {
            let daysHTML = "";
            for (let i = 0; i < year_length; i++) {
                if (i < daysElasped) {
                    daysHTML += `<span class="day elapsed"></span>`
                } else {
                    daysHTML += `<span class="day"></span>`;
                }


            }

            document.getElementById("days-container").innerHTML = daysHTML;
        }


        function calculateYearProgress(daysElasped, year_length) {
            return parseFloat((parseFloat(daysElasped) / parseFloat(year_length)) * 100)

        }

        function calculateDaysElasped(today, janFirst) {
            // daysElasped = today - janFirst;
            const milisecondsInADay = 86400000;
            return (Math.ceil((today - janFirst) / ((milisecondsInADay))));
        }

        function year(today) {
            const janFirst = new Date(`${today.getFullYear()}-1-1`);
            let year_length = checkYear(today.getFullYear()) ? 366 : 365;

            // Check the length of the year (leap year or not)
            daysElasped = calculateDaysElasped(today, janFirst);

            // Display the year
            document.getElementById("year").innerHTML = (today.getFullYear());
            // Display the year progress 
            document.getElementById("year-progress").innerHTML = calculateYearProgress(daysElasped, year_length).toFixed(2) + "%";
            displayDots(daysElasped, year_length);
        }

        function decade(today) {
            // find years since 2020
            
        }



        window.addEventListener('DOMContentLoaded', () => {
            const today = new Date();
            let daysElasped = 0;
            year(today);



            // Display Year and Year Progress

        });

    </script>
</head>

Â 

<style>
    :root {
        --background-color: black;
        --elapsed-day: rgb(165, 0, 0);
        --future-day: rgb(157, 157, 157);
        --text-color: white;
    }

    body {
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        background-color: var(--background-color);
        color: var(--text-color);
    }

    #days-container {
        display: flex;
        flex-wrap: wrap;
        max-width: 360px;
        /* controls row length */
    }

    .day {
        display: inline-block;
        background-color: var(--future-day);
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin: 3px;

    }

    .elapsed {
        background-color: var(--elapsed-day);
    }

    .main-container h1 {
        text-align: center;
        /* font-family: monospace; */
        font-weight: normal;
    }

    .main-container h4 {
        text-align: center;
        /* font-family: monospace; */
        font-weight: normal;
    }
</style>

<body>


    <div class="main-container">

        <h1 id="year"></h1>

        <div id="days-container">
            <span class="day"></span>
        </div>
        <h4>Year Progress: <span id="year-progress"></span></h4>
    </div>

    <div class="button-container">
        <button id="month">Month</button>
        <button id="year">Year</button>
        <button id="decade">Decade</button>
        <button id="century">Century</button>
        <button id="milenium">Milenium</button>
    </div>
</body>

</html>